<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="../styles/products.css">
    <link rel="stylesheet" href="../styles/header.css" />
    <link rel="stylesheet" href="../styles/footer.css">
</head>

<body>
    <!-- <iframe src="../scripts/header.html" frameborder="0" scrolling="no" width="100%"  height="180px"></iframe> -->
    <div id="nabar-outer-div">
        <div id="topbar">
            <div>
                <a href="#">
                    <img src="https://s3.thcdn.com/www/common/images/flags/1x1/us-853f40a4f4.svg" alt="" />
                    <span>us-USD</span>
                </a>
            </div>
            <div>
                <a href="#"> Help </a>
            </div>
        </div>

        <!-- ----------Navbar------------- -->
        <div>
            <div id="navbar">
                <div id="logo-div">
                    <a href="../src/index.html">
                        <img id="logo" src="../images/logo-black.png" alt="Navbar-logo" />
                    </a>
                </div>
                <div class="flex-div search-outer-div">
                    <div id="search-div">
                        <input type="text" id="search-box" placeholder="Search for a product or brand..." />
                        <img id="search-icon" src="/image/search.png" alt="" />
                    </div>
                </div>
                <div class="nav-right flex-div">
                    <a href="../src/login.html">Login </a>

                    <a href="../src/cart.html">
                        <div class="ac-cart-div flex-div">
                            <img src="/image/profile-icon.png" alt="" class="cart-icon" /> Account
                        </div>
                    </a>
                    <a href="../src/cart.html">
                        <div class="ac-cart-div flex-div">
                            <img src="/image/cart-icon.jpg" alt="" class="cart-icon" /> Cart
                        </div>
                    </a>
                </div>
            </div>

            <div class="topnav" id="myTopnav">
                <div class="dropdown">
                    <button class="dropbtn">Brand</button>
                    <div class="dropdown-content">
                        <a href="#">A</a>
                        <a href="#">B</a>
                        <a href="#">C</a>
                        <a href="#">D</a>
                        <a href="#">E</a>
                        <a href="#">F</a>
                        <a href="#">G</a>
                        <a href="#">H</a>
                        <a href="#">I</a>
                        <a href="#">J</a>
                        <a href="#">K</a>
                        <a href="#">L</a>
                        <a href="#">M</a>
                        <a href="#">N</a>
                        <a href="#">O</a>
                        <a href="#">P</a>
                        <a href="#">Q</a>
                        <a href="#">R</a>
                        <a href="#">S</a>
                        <a href="#">T</a>
                        <a href="#">U</a>
                        <a href="#">V</a>
                        <a href="#">W</a>
                        <a href="#">X</a>
                        <a href="#">Y</a>
                        <a href="#">Z</a>

                    </div>
                </div>
                <div class="dropdown">
                    <button class="dropbtn">Makeup</button>
                    <div class="dropdown-content">
                        <a href="#">View All Cousmetics</a>
                        <a href="#">Bronzers </a>
                        <a href="#">Lipsticks</a>
                        <a href="#">Dior</a>
                        <a href="">Maskaras</a>
                        <a href="">Face Powders</a>
                        <a href="">Foundations</a>
                        <a href="">Lips Liners</a>
                        <a href="">Liquid Lipsticks</a>

                    </div>
                </div>
                <div class="dropdown">
                    <button class="dropbtn">Skin Care</button>
                    <div class="dropdown-content">
                        <a href="#">SkinMedica</a>
                        <a href="#">SkinCeuticals</a>
                        <a href="#">Clear SkinCare</a>
                        <a href="#">5*Rated Products</a>
                        <a href="#">Gifts & Sets</a>
                        <a href="#">Supersizes & Duo</a>
                        <a href="#">Travel Sizes</a>
                    </div>
                </div>
                <div class="dropdown">
                    <button class="dropbtn">Sale</button>
                    <div class="dropdown-content">
                        <a href="#">Sale</a>
                        <a href="#">Clearance</a>
                        <a href="#">Gifts and Sets</a>
                        <a href="#">All Coupons</a>
                        <a href="#">Featured Offers</a>

                    </div>
                </div>
                <div class="dropdown">
                    <button class="dropbtn">Build a Routine</button>
                    <div class="dropdown-content">
                        <a href="#">Dry Skin Routine</a>
                        <a href="#">Normal Skin Rountine</a>
                        <a href="#">Oil Skin Routine</a>
                        <a href="#">Combination Skin Routine</a>
                        <a href="#">Sensative Skin Routine</a>

                    </div>
                </div>

                <div class="dropdown">
                    <button class="dropbtn">Hair</button>
                    <div class="dropdown-content">
                        <a href="#">Shampoo</a>
                        <a href="#">Conditioners</a>
                        <a href="#">Hair Treatments</a>
                        <a href="#">Hair masks</a>
                        <a href="#">Hair Oils</a>
                        <a href="#">Hairs Sprays</a>
                        <a href="#">Hairs Styling</a>
                        <a href="#">Hair Styling</a>
                        <a href="#">Hair Thinning & Loss</a>
                    </div>
                </div>

                <div class="dropdown">
                    <button class="dropbtn">Tools</button>
                    <div class="dropdown-content">
                        <a href="#">View all Tools</a>
                        <a href="#">Hair Dryers</a>
                        <a href="#">Flat Irons</a>
                        <a href="#">Rollers & Curling</a>
                        <a href="#">Hair Brushes</a>
                    </div>
                </div>
                <div class="dropdown">
                    <button class="dropbtn">Bath & Body</button>
                    <div class="dropdown-content">
                        <a href="#">View All Bath & Body</a>
                        <a href="#">New In</a>
                        <a href="#">Clean Bath & body</a>
                        <a href="#">Travel Sizes</a>
                        <a href="#">At Home Spa</a>
                        <a href="#">Deodorants</a>
                    </div>
                </div>
                <div class="dropdown">
                    <button class="dropbtn">Self-Care</button>
                    <div class="dropdown-content">
                        <a href="#">Self Care</a>
                        <a href="#">New In</a>
                        <a href="#">5*Rated Products</a>
                        <a href="#">At-Home Spa</a>
                        <a href="#">View All Wellness Products</a>

                    </div>
                </div>
                <div class="dropdown">
                    <button class="dropbtn">Fragrance</button>
                    <div class="dropdown-content">
                        <a href="#">Neom Organics</a>
                        <a href="#">Glass Houses Fragrances</a>
                        <a href="#">Korres</a>
                        <a href="#">Nest Fragrances</a>
                        <a href="#">Molton Brown</a>

                    </div>
                </div>
                <div class="dropdown">
                    <button class="dropbtn">New</button>
                    <div class="dropdown-content">
                        <a href="#">Alpha-H</a>
                        <a href="#">Alo</a>
                        <a href="#">Foria</a>
                        <a href="#">Nion</a>
                        <a href="#">Sulwhasoo</a>
                        <a href="#">Cowshed</a>
                        <a href="#">Patrikes</a>
                        <a href="#">Marvis</a>
                    </div>
                </div>
                <div class="dropdown">
                    <button class="dropbtn">Advice</button>
                    <div class="dropdown-content">
                        <a href="#">SkinCare</a>
                        <a href="#">MakeUp</a>
                        <a href="#">HairCare</a>
                        <a href="#">Body</a>
                        <a href="#">Tips & Advice</a>
                        <a href="#">Beauty Centers</a>

                    </div>
                </div>

                <a href="javascript:void(0);" style="font-size: 15px" class="icon" onclick="myFunction()">&#9776;</a>
            </div>
        </div>
    </div>


    <h1 class="productHeading">SkinCare Products</h1>
    <div id="sort">
        <select name="sort" id="sort1">
            <option value="">Sort by: Recommended</option>
            <option value="dec">Price: High to Low</option>
            <option value="asc">Price: Low to High</option>
        </select>
    </div>


    <div id="productsList"></div>
    <!-- <iframe src="../scripts/footer.html" frameborder="0" scrolling="no" width="100%" height="600px"></iframe> -->
    <div id="footer">
        <div id="footer1">
            <div id="sign">
                <h4>Sign up to our email list and receive 20% off your next order</h4>
                <button id="btnId"><a href="/Account/register.html">SIGN UP</a></button>
            </div>
            <!-- <hr>  -->
            <div class="helpAndInfo">
                <h4>Help & Information</h4>
                <div class="klass">
                    <img src="https://cdn1.iconfinder.com/data/icons/material-communication/18/phone-512.png" alt="">
                    <p>Customer Service</p>
                </div>
                <div class="klass">
                    <img src="https://cdns.iconmonstr.com/wp-content/assets/preview/2017/240/iconmonstr-delivery-1.png"
                        alt="">
                    <p>Delivery Information</p>
                </div>
                <div class="klass">
                    <img src="https://pic.onlinewebfonts.com/svg/img_225047.png" alt="">
                    <p>Returns & Refunds</p>
                </div>
                <div class="klass">
                    <img src="https://icons.veryicon.com/png/o/miscellaneous/eva-icon-fill/question-mark-15.png" alt="">
                    <p>Help Center</p>
                </div>
                <h4>COVID-19 Information</h4>
                <h4>Accessibility</h4>
            </div>
        </div>
        <div id="footer2">
            <div id="connect">
                <div>
                    <h4>Connect with us</h4>
                </div>
                <div id="connectimg">
                    <img src="https://brandlogos.net/wp-content/uploads/2021/04/facebook-icon.png" alt="Facebook">
                    <img src="https://img.icons8.com/color/256/instagram-new.png" alt="Instagram">
                    <img src="https://www.freepnglogos.com/uploads/twitter-logo-png/twitter-bird-symbols-png-logo-0.png"
                        alt="Twitter">
                    <img src="https://i.pinimg.com/originals/d3/d1/75/d3d175e560ae133f1ed5cd4ec173751a.png"
                        alt="Pinterest">
                    <img src="https://pngshare.com/wp-content/uploads/2021/05/Print-Snapchat-Logo-18.png"
                        alt="Snapchat">
                </div>

            </div>
            <div id="detail">
                <div class="detaildiv">
                    <!-- <hr>  -->
                    <h4>About SkinStore</h4>
                    <p>About Us</p>
                    <p>Affiliate Program</p>
                    <p>Brand Directory</p>
                    <p>Coupon Codes</p>
                    <p>Refer A Friend</p>
                    <p>Student Discount</p>
                    <p>Join SkinStore Experts</p>

                </div>
                <div class="detaildiv">
                    <!-- <hr>  -->

                    <h4>Legal</h4>
                    <p>Cookie Information</p>
                    <p>Privacy Policy</p>
                    <p>Terms & Conditions</p>
                    <p>Modern Slavery Statement</p>
                </div>
                <div class="detaildiv">
                    <!-- <hr>  -->

                    <h4>How to Contact Us</h4>
                    <p>Message Us</p>
                    <p>Free Beauty Consultations</p>
                </div>
            </div>
        </div>
    </div>


</body>
<script src="../scripts/products.js"></script>
<script>
    // const url = "http://localhost:8080/product"
    const url = "https://tiny-rose-chicken-tutu.cyclic.app/product"
    // Get the product list from the API endpointconso
    fetch(url)
        .then(response => response.json())
        .then(products => {
            console.log(products)
            displayData(products.data)
        })
        .catch(error => console.error(error));

    let cartData = [];
    let productContainer = document.getElementById("productsList");
    function displayData(products) {
        // console.log(products);
        productContainer.innerHTML = null;
        products.forEach((el, index) => {
            let product = document.createElement("div");
            product.setAttribute("class", "productCard");
            let productImage = document.createElement("img");
            productImage.setAttribute("src", el.image);
            let productName = document.createElement("p");
            productName.setAttribute("class", "productName");
            productName.innerText = el.title;
            let productPrice = document.createElement("p");
            productPrice.setAttribute("class", "productPrice");
            productPrice.innerText = el.price;

            let addToCart = document.createElement("button");
            addToCart.setAttribute("class", "addToCartBtn");
            addToCart.innerText = "Add To Cart";
            addToCart.addEventListener("click", function () {
                let newData = products.filter(function (element, ind) {
                    if (ind == index) {
                        alert("Product Added to Cart");
                        cartData.push(element);
                    }
                });
                console.log(cartData);
                localStorage.setItem("cart", JSON.stringify(cartData));
            });
            product.append(productImage, productName, productPrice, addToCart);
            productContainer.append(product);
        });
    }

    //Sorting DATA ACCORDING TO THE PRICE
    let filterBy = document.getElementById("filter");
    filterBy.addEventListener("change", function (e) {
        let filterByValue = e.target.value;
        // console.log(filterByValue);
        if (filterByValue.toLowerCase() == "default") {
            location.reload();
            displayData(products);
        } else if (filterByValue.toLowerCase() == "low to high") {
            let sortedData = products.sort((a, b) => {
                return a.price.localeCompare(b.price);
            });
            displayData(sortedData);
        } else if (filterByValue.toLowerCase() == "high to low") {
            let sortedData = products.sort((b, a) => {
                return a.price.localeCompare(b.price);
            });
            displayData(sortedData);
        }
    });
</script>


</html>